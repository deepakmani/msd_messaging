{"ast":null,"code":"import _classCallCheck from \"/Users/deepakabs/programming/node_projects/msd_messaging/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/deepakabs/programming/node_projects/msd_messaging/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/deepakabs/programming/node_projects/msd_messaging/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/deepakabs/programming/node_projects/msd_messaging/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/deepakabs/programming/node_projects/msd_messaging/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/deepakabs/programming/node_projects/msd_messaging/client/src/components/DirectMessage.js\";\nimport React, { Component } from 'react';\nimport { SendDirectMessage } from './SendDirectMessage.js';\nexport var DirectMessage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(DirectMessage, _Component);\n\n  function DirectMessage() {\n    var _this;\n\n    _classCallCheck(this, DirectMessage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DirectMessage).call(this));\n\n    _this.scrollToBottom = function () {\n      _this.messagesEnd.scrollIntoView({\n        behavior: \"smooth\"\n      });\n    };\n\n    _this.state = {\n      messages: [{\n        sender: \"deepakabs\",\n        senderName: \"Deepak ABS\",\n        profile_img_url: \"abs\",\n        sentAt: \"Wed Nov 20, 2018 at 11\",\n        message: \"1\"\n      }, {\n        sender: \"deepakabs\",\n        senderName: \"Deepak ABS\",\n        profile_img_url: \"abs\",\n        sentAt: \"Wed Nov 20, 2018 at 11\",\n        message: \"2\"\n      }, {\n        sender: \"deepakabs\",\n        senderName: \"Deepak ABS\",\n        profile_img_url: \"abs\",\n        sentAt: \"Wed Nov 20, 2018 at 11\",\n        message: \"3\"\n      }, {\n        sender: \"deepakabs\",\n        senderName: \"Deepak ABS\",\n        profile_img_url: \"abs\",\n        sentAt: \"Wed Nov 20, 2018 at 11\",\n        message: \"4\"\n      }]\n    };\n    return _this;\n  } // Update Messages\n\n\n  _createClass(DirectMessage, [{\n    key: \"send_direct_messages\",\n    value: function send_direct_messages(message) {\n      // 1. Create message object\n      var direct_message = {\n        message: message,\n        sender: this.props.sender,\n        receiver: this.props.receiver,\n        id: Date.now() + \"_\" + this.props.sender,\n        // Boolean indicating if message is sent\n        sent: false\n      }; // e.preventDefault();\n\n      this.setState({\n        messages: this.messages.unshift(message)\n      });\n    } // Scroll to bottom\n\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.scrollToBottom();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.scrollToBottom();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"direct-message-history-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"direct-message-history\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, this.state.messages.map(function (message) {\n        return React.createElement(Message, {\n          message: message,\n          sender: _this2.props.sender,\n          receiver: _this2.props.receiver,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }, \" \");\n      }), React.createElement(\"div\", {\n        style: {\n          float: \"left\",\n          clear: \"both\"\n        },\n        ref: function ref(el) {\n          _this2.messagesEnd = el;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      })), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }), React.createElement(SendDirectMessage, {\n        send_direct_message: this.send_direct_message,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return DirectMessage;\n}(Component);\n\nvar Message =\n/*#__PURE__*/\nfunction (_Component2) {\n  _inherits(Message, _Component2);\n\n  function Message() {\n    _classCallCheck(this, Message);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Message).call(this));\n  }\n\n  _createClass(Message, [{\n    key: \"render\",\n    value: function render() {\n      if (this.props.sender.username == this.props.message.sender) {\n        return (// If message is sent by user style it differently\n          React.createElement(React.Fragment, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 103\n            },\n            __self: this\n          }, React.createElement(\"ul\", {\n            className: \"sent-message-ul\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 104\n            },\n            __self: this\n          }, React.createElement(\"li\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 105\n            },\n            __self: this\n          }, this.props.sender.profile_image_url, React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 107\n            },\n            __self: this\n          }), \"You\"), React.createElement(\"li\", {\n            className: \"sent-message\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 110\n            },\n            __self: this\n          }, this.props.message.message, React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 112\n            },\n            __self: this\n          }), this.props.message.createdAt)))\n        );\n      }\n    }\n  }]);\n\n  return Message;\n}(Component);","map":{"version":3,"sources":["/Users/deepakabs/programming/node_projects/msd_messaging/client/src/components/DirectMessage.js"],"names":["React","Component","SendDirectMessage","DirectMessage","scrollToBottom","messagesEnd","scrollIntoView","behavior","state","messages","sender","senderName","profile_img_url","sentAt","message","direct_message","props","receiver","id","Date","now","sent","setState","unshift","map","float","clear","el","send_direct_message","Message","username","profile_image_url","createdAt"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { SendDirectMessage } from './SendDirectMessage.js'\nexport class DirectMessage extends Component {\n\t constructor() {\n        super();\n       this.state = {\n      \tmessages: [{sender: \t\t\"deepakabs\",\n      \t\t\t\tsenderName:\t\t\"Deepak ABS\",\n      \t\t\t\tprofile_img_url: \"abs\",\n      \t\t\t\tsentAt: \t\t\"Wed Nov 20, 2018 at 11\",\n      \t\t\t\tmessage: \t\t\"1\"\n      \t\t\t  }, \n      \t\t\t  {sender: \t\t    \"deepakabs\",\n      \t\t\t\tsenderName:\t\t\"Deepak ABS\",\n      \t\t\t\tprofile_img_url: \"abs\",\n      \t\t\t\tsentAt: \t\t\"Wed Nov 20, 2018 at 11\",\n      \t\t\t\tmessage: \t\t\"2\"\n      \t\t\t  }\n      \t\t\t  ,\n      \t\t\t  {sender: \t\t\"deepakabs\",\n      \t\t\t\tsenderName:\t\t\"Deepak ABS\",\n      \t\t\t\tprofile_img_url: \"abs\",\n      \t\t\t\tsentAt: \t\t\"Wed Nov 20, 2018 at 11\",\n      \t\t\t\tmessage: \t\t\"3\"\n      \t\t\t  }, \n      \t\t\t  {sender: \t\t    \"deepakabs\",\n      \t\t\t\tsenderName:\t\t\"Deepak ABS\",\n      \t\t\t\tprofile_img_url: \"abs\",\n      \t\t\t\tsentAt: \t\t\"Wed Nov 20, 2018 at 11\",\n      \t\t\t\tmessage: \t\t\"4\"\n      \t\t\t  }]\n      }\t\t  \n                 \n\n    }\n\n\n    // Update Messages\n    send_direct_messages(message) {\n\n    \t// 1. Create message object\n     \t var direct_message = {\n                            message: message,\n                            sender:  this.props.sender,\n                            receiver: this.props.receiver,\n                            id:       Date.now() + \"_\" + this.props.sender,   \n                            \n                            // Boolean indicating if message is sent\n                            sent:   false\n      \t};\n\t    // e.preventDefault();\n\t    this.setState({\n\t      messages: this.messages.unshift(message)\n\t    })\n  \t}\n\n\n    // Scroll to bottom\n    scrollToBottom = () => {\n\t  this.messagesEnd.scrollIntoView({ behavior: \"smooth\" });\n\t}\n\n\n\tcomponentDidMount() {\n\t  this.scrollToBottom();\n\t}\n\n\tcomponentDidUpdate() {\n\t  this.scrollToBottom();\n\t}\n\trender() {\n\n\t\treturn (\n\t\t\t<div className=\"direct-message-history-wrapper\">\n\t\t\t<div className=\"direct-message-history\">\n\t\t\n\t\t \t   {this.state.messages.map((message) => \n\t\t \t\t<Message message = {message} sender={this.props.sender}  receiver={this.props.receiver}> </Message>\n\t\t \t\t)}\n\t\t \t\t <div style={{ float:\"left\", clear: \"both\" }}\n\t\t             ref={(el) => { this.messagesEnd = el; }}>\n\t\t        </div>\n\t\t\t</div>\n\n\t\t\t<hr/>\n\n\t\t\t<SendDirectMessage send_direct_message = {this.send_direct_message} /> \n\t\t\t</div>\n\t\t)\n\t}\n}\n\nclass Message extends Component {\n\t\t\n\tconstructor() {\n\t\tsuper();\n\t}\n\trender() {\n\t \tif (this.props.sender.username == this.props.message.sender) {\n\n\t\treturn (\n\t\t\t\t// If message is sent by user style it differently\n\t\t\t\t<React.Fragment>\n\t\t\t\t<ul className=\"sent-message-ul\">\n\t\t\t\t\t<li>\n\t\t\t\t\t\t{this.props.sender.profile_image_url}\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\tYou\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className=\"sent-message\"> \n\t\t\t\t\t\t{this.props.message.message}\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t{this.props.message.createdAt}\n\t\t\t\t\t</li>\n\t\t\t\t\n\t\t\t\t</ul>\t\t\n\t\t\t\t</React.Fragment>\n\t\t\t\t\n\t \t\t)\n\t\t}\n\t\n\t}\t\n}\n\n\n\n"]},"metadata":{},"sourceType":"module"}